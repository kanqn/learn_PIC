## PICアセンブラ

### MCLRピン

電圧低下やプログラムミスでPICが不安定になる時があって誤動作解除に使う
MCLRピンがLレベルになるとPICマイコンがリセットされる
(MCLRリセット)

### 入出力設定

#### TRIS-A TRIS-B  
  
PICの入出力設定はTRIS-AとTRIS-Bという特殊機能レジスタで行う  
  
TRIS-A(5ビット幅のレジスタ)がAポートの入出力設定を行い、  
(RA0,RA1,RA2,RA3,RA4)  
  
TRIS-B(8ビット幅のレジスタ)がBポートの入出力設定を行う  
(RB0,RB1,RB2,RB3,RB4,RB5,RB6,RB7)  
  
なお、ビットが0なら出力,1なら入力となる  

#### CLRF TRISA

CLRF: レジスタの全ビットを0にする  
例: CLRF TRISA  (Aポートを全て出力に設定する)  
なお、逆となる全ビット1にするというのはないため、  
全ビット1にしたい場合は、 MOVLW , MOVWFを使用する  

### バンクと切り替えについて
PICは電源投入時は、デフォルトだとBANK0にアクセスするため、  
BANK1にアクセスするためには(TRIS-AやTRIS-BはBANK1にある)バンク切り替えが必要  
切り替えにはSTATUSというレジスタを使用する  
  
#### STATUSレジスタ  

BANK0と1両方にある8ビットのレジスタで、バンク切り替えに使うビットはRP0(5ビット目)とRP1(6ビット目)  
ただし、PIC16F84AはRP0だけを使用する  
もちろんRP0ビットが0なら、BANK0になって、1ならBANK1となる。  

#### 実際のBANK切り替え  
  
BSF: ビットを**1**にしたい場合に使用  
例: BSF STATUS, RP0 (STATUSレジスタのRP0のビットを1にする、つまりはBANK1に切り替える)  
  
BCF: ビットを**0**にしたい場合に使用  
例: BCF STATUS, RP0 (STATUSレジスタのRP0のビットを0にする、つまりはBANK0に切り替える)  

なお、BANK1に切り替えた場合は、操作が終わった後は**必ずBANK0に戻すこと**  



